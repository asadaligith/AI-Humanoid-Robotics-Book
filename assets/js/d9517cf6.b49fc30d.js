"use strict";(self.webpackChunkai_humanoid_robotics_book=self.webpackChunkai_humanoid_robotics_book||[]).push([[7530],{7788:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"modules/module-01-ros2-fundamentals/chapter-06-urdf-tf","title":"Chapter 6: Robot Modeling with URDF & TF2","description":"Create humanoid robot descriptions using URDF and manage coordinate transformations with TF2","source":"@site/docs/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf.md","sourceDirName":"modules/module-01-ros2-fundamentals","slug":"/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf","permalink":"/docs/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf","draft":false,"unlisted":false,"editUrl":"https://github.com/asadaligith/AI-Humanoid-Robotics-Book/tree/main/docs/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Chapter 6: Robot Modeling with URDF & TF2","description":"Create humanoid robot descriptions using URDF and manage coordinate transformations with TF2","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"5\ufe0f\u20e3 Actions","permalink":"/docs/modules/module-01-ros2-fundamentals/chapter-05-actions"},"next":{"title":"7\ufe0f\u20e3 Module Summary","permalink":"/docs/modules/module-01-ros2-fundamentals/chapter-07-summary"}}');var s=n(4848),i=n(8453);const o={title:"Chapter 6: Robot Modeling with URDF & TF2",description:"Create humanoid robot descriptions using URDF and manage coordinate transformations with TF2",sidebar_position:6},a="Chapter 6: Robot Modeling with URDF & TF2",l={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"URDF Basics",id:"urdf-basics",level:2},{value:"Robot Structure",id:"robot-structure",level:3},{value:"Link Components",id:"link-components",level:3},{value:"Joint Types",id:"joint-types",level:3},{value:"Visualizing URDF in RViz2",id:"visualizing-urdf-in-rviz2",level:2},{value:"TF2 Transform Broadcasting",id:"tf2-transform-broadcasting",level:2},{value:"Querying Transformations",id:"querying-transformations",level:2},{value:"TF2 Tools",id:"tf2-tools",level:2},{value:"Exercise",id:"exercise",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"chapter-6-robot-modeling-with-urdf--tf2",children:"Chapter 6: Robot Modeling with URDF & TF2"})}),"\n",(0,s.jsx)(r.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(r.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Create"})," URDF (Unified Robot Description Format) models for humanoid robots"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Visualize"})," robot models in RViz2"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Implement"})," TF2 transform broadcasters for coordinate frames"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Query"})," coordinate transformations for spatial reasoning"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(r.p,{children:["URDF is the standard format for describing robot geometry, kinematics, and visual properties in ROS",(0,s.jsx)(r.sup,{children:(0,s.jsx)(r.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),". TF2 (Transform Library 2) manages coordinate frame transformations over time",(0,s.jsx)(r.sup,{children:(0,s.jsx)(r.a,{href:"#user-content-fn-2",id:"user-content-fnref-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})}),"."]}),"\n",(0,s.jsx)(r.h2,{id:"urdf-basics",children:"URDF Basics"}),"\n",(0,s.jsx)(r.h3,{id:"robot-structure",children:"Robot Structure"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="humanoid">\r\n  \x3c!-- Base link --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.3 0.3 0.6"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 1"/>\r\n      </material>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- Head --\x3e\r\n  <link name="head">\r\n    <visual>\r\n      <geometry>\r\n        <sphere radius="0.15"/>\r\n      </geometry>\r\n    </visual>\r\n  </link>\r\n\r\n  \x3c!-- Joint connecting base to head --\x3e\r\n  <joint name="base_to_head" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.3"/>\r\n    <axis xyz="0 0 1"/>\r\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0"/>\r\n  </joint>\r\n</robot>\n'})}),"\n",(0,s.jsx)(r.h3,{id:"link-components",children:"Link Components"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Visual"}),": Appearance (geometry, color, textures)"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Collision"}),": Simplified geometry for physics"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Inertial"}),": Mass, center of mass, inertia tensor"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Type"}),(0,s.jsx)(r.th,{children:"Description"}),(0,s.jsx)(r.th,{children:"Degrees of Freedom"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Fixed"}),(0,s.jsx)(r.td,{children:"Rigid connection"}),(0,s.jsx)(r.td,{children:"0"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Revolute"}),(0,s.jsx)(r.td,{children:"Single-axis rotation"}),(0,s.jsx)(r.td,{children:"1 (with limits)"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Continuous"}),(0,s.jsx)(r.td,{children:"Unlimited rotation"}),(0,s.jsx)(r.td,{children:"1"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Prismatic"}),(0,s.jsx)(r.td,{children:"Linear motion"}),(0,s.jsx)(r.td,{children:"1"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Floating"}),(0,s.jsx)(r.td,{children:"Full 6-DOF"}),(0,s.jsx)(r.td,{children:"6"})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"visualizing-urdf-in-rviz2",children:"Visualizing URDF in RViz2"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# Install required packages\r\nsudo apt install ros-humble-joint-state-publisher-gui ros-humble-xacro\r\n\r\n# Launch visualization\r\nros2 launch urdf_tutorial display.launch.py model:=humanoid.urdf\n"})}),"\n",(0,s.jsx)(r.h2,{id:"tf2-transform-broadcasting",children:"TF2 Transform Broadcasting"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom geometry_msgs.msg import TransformStamped\r\nfrom tf2_ros import TransformBroadcaster\r\n\r\nclass TFBroadcaster(Node):\r\n    def __init__(self):\r\n        super().__init__('tf_broadcaster')\r\n        self.tf_broadcaster = TransformBroadcaster(self)\r\n        self.timer = self.create_timer(0.1, self.broadcast_transform)\r\n\r\n    def broadcast_transform(self):\r\n        t = TransformStamped()\r\n        t.header.stamp = self.get_clock().now().to_msg()\r\n        t.header.frame_id = 'world'\r\n        t.child_frame_id = 'base_link'\r\n        t.transform.translation.x = 1.0\r\n        t.transform.translation.y = 2.0\r\n        t.transform.translation.z = 0.0\r\n        t.transform.rotation.w = 1.0\r\n\r\n        self.tf_broadcaster.sendTransform(t)\n"})}),"\n",(0,s.jsx)(r.h2,{id:"querying-transformations",children:"Querying Transformations"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"from tf2_ros import Buffer, TransformListener\r\n\r\nclass TFListener(Node):\r\n    def __init__(self):\r\n        super().__init__('tf_listener')\r\n        self.tf_buffer = Buffer()\r\n        self.tf_listener = TransformListener(self.tf_buffer, self)\r\n        self.timer = self.create_timer(1.0, self.on_timer)\r\n\r\n    def on_timer(self):\r\n        try:\r\n            transform = self.tf_buffer.lookup_transform(\r\n                'world',\r\n                'camera_link',\r\n                rclpy.time.Time()\r\n            )\r\n            self.get_logger().info(f'Transform: {transform.transform.translation}')\r\n        except Exception as e:\r\n            self.get_logger().warn(f'Could not transform: {e}')\n"})}),"\n",(0,s.jsx)(r.h2,{id:"tf2-tools",children:"TF2 Tools"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"# View TF tree\r\nros2 run tf2_tools view_frames\r\n\r\n# Echo specific transform\r\nros2 run tf2_ros tf2_echo world base_link\r\n\r\n# Visualize in RViz2\r\nrviz2  # Add TF display\n"})}),"\n",(0,s.jsx)(r.h2,{id:"exercise",children:"Exercise"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Task"}),": Create a humanoid URDF with:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Torso (base_link)"}),"\n",(0,s.jsx)(r.li,{children:"Head (revolute joint, yaw rotation)"}),"\n",(0,s.jsx)(r.li,{children:"Left and right arms (2 joints each: shoulder, elbow)"}),"\n",(0,s.jsx)(r.li,{children:"Visualize in RViz2 with joint_state_publisher_gui"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Code Example"}),": See ",(0,s.jsx)(r.code,{children:"examples/module-01-ros2-fundamentals/example-05-urdf/"})]}),"\n",(0,s.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(r.p,{children:"URDF models define robot structure, while TF2 manages dynamic coordinate transformations."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Next"}),": ",(0,s.jsx)(r.a,{href:"/docs/modules/module-01-ros2-fundamentals/chapter-07-summary",children:"Chapter 7: Module Summary"})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Estimated Reading Time"}),": 25 minutes\r\n",(0,s.jsx)(r.strong,{children:"Hands-On Time"}),": 60 minutes"]}),"\n","\n",(0,s.jsxs)(r.section,{"data-footnotes":!0,className:"footnotes",children:[(0,s.jsx)(r.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{id:"user-content-fn-1",children:["\n",(0,s.jsxs)(r.p,{children:['ROS Documentation. "URDF." ',(0,s.jsx)(r.a,{href:"http://wiki.ros.org/urdf",children:"http://wiki.ros.org/urdf"})," ",(0,s.jsx)(r.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{id:"user-content-fn-2",children:["\n",(0,s.jsxs)(r.p,{children:['ROS 2 Documentation. "tf2." ',(0,s.jsx)(r.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Tf2-Main.html",children:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Tf2-Main.html"})," ",(0,s.jsx)(r.a,{href:"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>a});var t=n(6540);const s={},i=t.createContext(s);function o(e){const r=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);