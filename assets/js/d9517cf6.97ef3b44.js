"use strict";(self.webpackChunkai_humanoid_robotics_book=self.webpackChunkai_humanoid_robotics_book||[]).push([[7530],{7788:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"modules/module-01-ros2-fundamentals/chapter-06-urdf-tf","title":"Chapter 6: Robot Modeling with URDF & TF2","description":"Create humanoid robot descriptions using URDF and manage coordinate transformations with TF2","source":"@site/docs/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf.md","sourceDirName":"modules/module-01-ros2-fundamentals","slug":"/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf","permalink":"/AI-Humanoid-Robotics-Book/docs/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf","draft":false,"unlisted":false,"editUrl":"https://github.com/asadaligith/AI-Humanoid-Robotics-Book/tree/main/docs/modules/module-01-ros2-fundamentals/chapter-06-urdf-tf.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Chapter 6: Robot Modeling with URDF & TF2","description":"Create humanoid robot descriptions using URDF and manage coordinate transformations with TF2","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"5\ufe0f\u20e3 Actions","permalink":"/AI-Humanoid-Robotics-Book/docs/modules/module-01-ros2-fundamentals/chapter-05-actions"},"next":{"title":"7\ufe0f\u20e3 Module Summary","permalink":"/AI-Humanoid-Robotics-Book/docs/modules/module-01-ros2-fundamentals/chapter-07-summary"}}');var s=r(4848),i=r(8453);const o={title:"Chapter 6: Robot Modeling with URDF & TF2",description:"Create humanoid robot descriptions using URDF and manage coordinate transformations with TF2",sidebar_position:6},a="Chapter 6: Robot Modeling with URDF & TF2",l={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"URDF Basics",id:"urdf-basics",level:2},{value:"Robot Structure",id:"robot-structure",level:3},{value:"Link Components",id:"link-components",level:3},{value:"Joint Types",id:"joint-types",level:3},{value:"Visualizing URDF in RViz2",id:"visualizing-urdf-in-rviz2",level:2},{value:"TF2 Transform Broadcasting",id:"tf2-transform-broadcasting",level:2},{value:"Querying Transformations",id:"querying-transformations",level:2},{value:"TF2 Tools",id:"tf2-tools",level:2},{value:"Exercise",id:"exercise",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",sup:"sup",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"chapter-6-robot-modeling-with-urdf--tf2",children:"Chapter 6: Robot Modeling with URDF & TF2"})}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create"})," URDF (Unified Robot Description Format) models for humanoid robots"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visualize"})," robot models in RViz2"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implement"})," TF2 transform broadcasters for coordinate frames"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Query"})," coordinate transformations for spatial reasoning"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:["URDF is the standard format for describing robot geometry, kinematics, and visual properties in ROS",(0,s.jsx)(n.sup,{children:(0,s.jsx)(n.a,{href:"#user-content-fn-1",id:"user-content-fnref-1","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"1"})}),". TF2 (Transform Library 2) manages coordinate frame transformations over time",(0,s.jsx)(n.sup,{children:(0,s.jsx)(n.a,{href:"#user-content-fn-2",id:"user-content-fnref-2","data-footnote-ref":!0,"aria-describedby":"footnote-label",children:"2"})}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"urdf-basics",children:"URDF Basics"}),"\n",(0,s.jsx)(n.h3,{id:"robot-structure",children:"Robot Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="humanoid">\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.3 0.3 0.6"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.15"/>\n      </geometry>\n    </visual>\n  </link>\n\n  \x3c!-- Joint connecting base to head --\x3e\n  <joint name="base_to_head" type="revolute">\n    <parent link="base_link"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.3"/>\n    <axis xyz="0 0 1"/>\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"link-components",children:"Link Components"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Visual"}),": Appearance (geometry, color, textures)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Collision"}),": Simplified geometry for physics"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inertial"}),": Mass, center of mass, inertia tensor"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"joint-types",children:"Joint Types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Degrees of Freedom"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Fixed"}),(0,s.jsx)(n.td,{children:"Rigid connection"}),(0,s.jsx)(n.td,{children:"0"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Revolute"}),(0,s.jsx)(n.td,{children:"Single-axis rotation"}),(0,s.jsx)(n.td,{children:"1 (with limits)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Continuous"}),(0,s.jsx)(n.td,{children:"Unlimited rotation"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Prismatic"}),(0,s.jsx)(n.td,{children:"Linear motion"}),(0,s.jsx)(n.td,{children:"1"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Floating"}),(0,s.jsx)(n.td,{children:"Full 6-DOF"}),(0,s.jsx)(n.td,{children:"6"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"visualizing-urdf-in-rviz2",children:"Visualizing URDF in RViz2"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install required packages\nsudo apt install ros-humble-joint-state-publisher-gui ros-humble-xacro\n\n# Launch visualization\nros2 launch urdf_tutorial display.launch.py model:=humanoid.urdf\n"})}),"\n",(0,s.jsx)(n.h2,{id:"tf2-transform-broadcasting",children:"TF2 Transform Broadcasting"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom geometry_msgs.msg import TransformStamped\nfrom tf2_ros import TransformBroadcaster\n\nclass TFBroadcaster(Node):\n    def __init__(self):\n        super().__init__('tf_broadcaster')\n        self.tf_broadcaster = TransformBroadcaster(self)\n        self.timer = self.create_timer(0.1, self.broadcast_transform)\n\n    def broadcast_transform(self):\n        t = TransformStamped()\n        t.header.stamp = self.get_clock().now().to_msg()\n        t.header.frame_id = 'world'\n        t.child_frame_id = 'base_link'\n        t.transform.translation.x = 1.0\n        t.transform.translation.y = 2.0\n        t.transform.translation.z = 0.0\n        t.transform.rotation.w = 1.0\n\n        self.tf_broadcaster.sendTransform(t)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"querying-transformations",children:"Querying Transformations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from tf2_ros import Buffer, TransformListener\n\nclass TFListener(Node):\n    def __init__(self):\n        super().__init__('tf_listener')\n        self.tf_buffer = Buffer()\n        self.tf_listener = TransformListener(self.tf_buffer, self)\n        self.timer = self.create_timer(1.0, self.on_timer)\n\n    def on_timer(self):\n        try:\n            transform = self.tf_buffer.lookup_transform(\n                'world',\n                'camera_link',\n                rclpy.time.Time()\n            )\n            self.get_logger().info(f'Transform: {transform.transform.translation}')\n        except Exception as e:\n            self.get_logger().warn(f'Could not transform: {e}')\n"})}),"\n",(0,s.jsx)(n.h2,{id:"tf2-tools",children:"TF2 Tools"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# View TF tree\nros2 run tf2_tools view_frames\n\n# Echo specific transform\nros2 run tf2_ros tf2_echo world base_link\n\n# Visualize in RViz2\nrviz2  # Add TF display\n"})}),"\n",(0,s.jsx)(n.h2,{id:"exercise",children:"Exercise"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Task"}),": Create a humanoid URDF with:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Torso (base_link)"}),"\n",(0,s.jsx)(n.li,{children:"Head (revolute joint, yaw rotation)"}),"\n",(0,s.jsx)(n.li,{children:"Left and right arms (2 joints each: shoulder, elbow)"}),"\n",(0,s.jsx)(n.li,{children:"Visualize in RViz2 with joint_state_publisher_gui"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Code Example"}),": See ",(0,s.jsx)(n.code,{children:"examples/module-01-ros2-fundamentals/example-05-urdf/"})]}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsx)(n.p,{children:"URDF models define robot structure, while TF2 manages dynamic coordinate transformations."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Next"}),": ",(0,s.jsx)(n.a,{href:"/AI-Humanoid-Robotics-Book/docs/modules/module-01-ros2-fundamentals/chapter-07-summary",children:"Chapter 7: Module Summary"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Estimated Reading Time"}),": 25 minutes\n",(0,s.jsx)(n.strong,{children:"Hands-On Time"}),": 60 minutes"]}),"\n","\n",(0,s.jsxs)(n.section,{"data-footnotes":!0,className:"footnotes",children:[(0,s.jsx)(n.h2,{className:"sr-only",id:"footnote-label",children:"Footnotes"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{id:"user-content-fn-1",children:["\n",(0,s.jsxs)(n.p,{children:['ROS Documentation. "URDF." ',(0,s.jsx)(n.a,{href:"http://wiki.ros.org/urdf",children:"http://wiki.ros.org/urdf"})," ",(0,s.jsx)(n.a,{href:"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{id:"user-content-fn-2",children:["\n",(0,s.jsxs)(n.p,{children:['ROS 2 Documentation. "tf2." ',(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Tf2-Main.html",children:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Tf2/Tf2-Main.html"})," ",(0,s.jsx)(n.a,{href:"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2",className:"data-footnote-backref",children:"\u21a9"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var t=r(6540);const s={},i=t.createContext(s);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);