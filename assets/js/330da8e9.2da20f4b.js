"use strict";(self.webpackChunkai_humanoid_robotics_book=self.webpackChunkai_humanoid_robotics_book||[]).push([[3816],{2921:(n,i,e)=>{e.r(i),e.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"modules/module-02-digital-twin-gazebo-unity/chapter-05-unity-ros","title":"Chapter 5: Unity Visualization with ROS","description":"Connect Unity for photorealistic robot visualization using ROS-TCP Connector","source":"@site/docs/modules/module-02-digital-twin-gazebo-unity/chapter-05-unity-ros.md","sourceDirName":"modules/module-02-digital-twin-gazebo-unity","slug":"/modules/module-02-digital-twin-gazebo-unity/chapter-05-unity-ros","permalink":"/AI-Humanoid-Robotics-Book/docs/modules/module-02-digital-twin-gazebo-unity/chapter-05-unity-ros","draft":false,"unlisted":false,"editUrl":"https://github.com/asadaligith/AI-Humanoid-Robotics-Book/tree/main/docs/modules/module-02-digital-twin-gazebo-unity/chapter-05-unity-ros.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Chapter 5: Unity Visualization with ROS","description":"Connect Unity for photorealistic robot visualization using ROS-TCP Connector","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"4\ufe0f\u20e3 Virtual Sensors","permalink":"/AI-Humanoid-Robotics-Book/docs/modules/module-02-digital-twin-gazebo-unity/chapter-04-sensors"},"next":{"title":"6\ufe0f\u20e3 Physics Tuning","permalink":"/AI-Humanoid-Robotics-Book/docs/modules/module-02-digital-twin-gazebo-unity/chapter-06-physics-tuning"}}');var o=e(4848),s=e(8453);const r={title:"Chapter 5: Unity Visualization with ROS",description:"Connect Unity for photorealistic robot visualization using ROS-TCP Connector",sidebar_position:5},l="Chapter 5: Unity Visualization with ROS",c={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Why Unity?",id:"why-unity",level:2},{value:"Setup Unity Robotics Hub",id:"setup-unity-robotics-hub",level:2},{value:"Install Unity",id:"install-unity",level:3},{value:"Import Robotics Packages",id:"import-robotics-packages",level:3},{value:"Importing URDF",id:"importing-urdf",level:2},{value:"ROS-TCP Connector Setup",id:"ros-tcp-connector-setup",level:2},{value:"Unity Side",id:"unity-side",level:3},{value:"ROS 2 Side",id:"ros-2-side",level:3},{value:"Subscribing to Joint States",id:"subscribing-to-joint-states",level:2},{value:"Exercise",id:"exercise",level:2},{value:"Summary",id:"summary",level:2}];function a(n){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.header,{children:(0,o.jsx)(i.h1,{id:"chapter-5-unity-visualization-with-ros",children:"Chapter 5: Unity Visualization with ROS"})}),"\n",(0,o.jsx)(i.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Install"})," Unity 2022.3 LTS and Unity Robotics Hub"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Import"})," robot URDF into Unity"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Connect"})," Unity to ROS 2 via TCP"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Synchronize"})," joint states between ROS and Unity"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"why-unity",children:"Why Unity?"}),"\n",(0,o.jsx)(i.p,{children:"Unity provides photorealistic rendering for:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Stakeholder demonstrations"}),"\n",(0,o.jsx)(i.li,{children:"Perception training (synthetic images)"}),"\n",(0,o.jsx)(i.li,{children:"VR/AR applications"}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"setup-unity-robotics-hub",children:"Setup Unity Robotics Hub"}),"\n",(0,o.jsx)(i.h3,{id:"install-unity",children:"Install Unity"}),"\n",(0,o.jsxs)(i.p,{children:["Download Unity Hub and Unity 2022.3 LTS from ",(0,o.jsx)(i.a,{href:"https://unity.com/download",children:"https://unity.com/download"})]}),"\n",(0,o.jsx)(i.h3,{id:"import-robotics-packages",children:"Import Robotics Packages"}),"\n",(0,o.jsx)(i.p,{children:"In Unity Editor:"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Window \u2192 Package Manager"}),"\n",(0,o.jsxs)(i.li,{children:["Add package from git URL:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"https://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector"})}),"\n",(0,o.jsx)(i.li,{children:(0,o.jsx)(i.code,{children:"https://github.com/Unity-Technologies/URDF-Importer.git?path=/com.unity.robotics.urdf-importer"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"importing-urdf",children:"Importing URDF"}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Assets \u2192 Import Robot from URDF"}),"\n",(0,o.jsx)(i.li,{children:"Select your humanoid.urdf file"}),"\n",(0,o.jsxs)(i.li,{children:["Configure import settings:","\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsx)(i.li,{children:"Mesh Decomposer: VHACD"}),"\n",(0,o.jsx)(i.li,{children:"Axis Type: Y Axis"}),"\n",(0,o.jsx)(i.li,{children:"Orient to Identity: Checked"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(i.h2,{id:"ros-tcp-connector-setup",children:"ROS-TCP Connector Setup"}),"\n",(0,o.jsx)(i.h3,{id:"unity-side",children:"Unity Side"}),"\n",(0,o.jsxs)(i.p,{children:["Create GameObject with ",(0,o.jsx)(i.code,{children:"ROS Connection"})," component:"]}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:["ROS IP Address: ",(0,o.jsx)(i.code,{children:"127.0.0.1"})," (localhost)"]}),"\n",(0,o.jsxs)(i.li,{children:["ROS Port: ",(0,o.jsx)(i.code,{children:"10000"})]}),"\n",(0,o.jsx)(i.li,{children:"Protocol: ROS 2"}),"\n"]}),"\n",(0,o.jsx)(i.h3,{id:"ros-2-side",children:"ROS 2 Side"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-bash",children:"# Install TCP endpoint\npip install ros-tcp-endpoint\n\n# Run endpoint\nros2 run ros_tcp_endpoint default_server_endpoint --ros-args -p ROS_IP:=0.0.0.0\n"})}),"\n",(0,o.jsx)(i.h2,{id:"subscribing-to-joint-states",children:"Subscribing to Joint States"}),"\n",(0,o.jsx)(i.p,{children:"Unity C# script:"}),"\n",(0,o.jsx)(i.pre,{children:(0,o.jsx)(i.code,{className:"language-csharp",children:'using RosMessageTypes.Sensor;\nusing Unity.Robotics.ROSTCPConnector;\n\npublic class JointStateSubscriber : MonoBehaviour\n{\n    void Start()\n    {\n        ROSConnection.GetOrCreateInstance().Subscribe<JointStateMsg>(\n            "/joint_states",\n            UpdateJointStates\n        );\n    }\n\n    void UpdateJointStates(JointStateMsg msg)\n    {\n        for (int i = 0; i < msg.name.Length; i++)\n        {\n            // Update Unity articulation bodies\n        }\n    }\n}\n'})}),"\n",(0,o.jsx)(i.h2,{id:"exercise",children:"Exercise"}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Task"}),":"]}),"\n",(0,o.jsxs)(i.ol,{children:["\n",(0,o.jsx)(i.li,{children:"Import your humanoid URDF into Unity"}),"\n",(0,o.jsx)(i.li,{children:"Set up ROS-TCP connection"}),"\n",(0,o.jsx)(i.li,{children:"Publish joint states from ROS 2"}),"\n",(0,o.jsx)(i.li,{children:"Verify Unity robot mirrors ROS joint positions"}),"\n"]}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Code Example"}),": See ",(0,o.jsx)(i.code,{children:"examples/module-02-digital-twin/example-03-unity-ros/"})]}),"\n",(0,o.jsx)(i.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(i.p,{children:"Unity provides photorealistic visualization by subscribing to ROS 2 topics via TCP."}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Next"}),": ",(0,o.jsx)(i.a,{href:"/AI-Humanoid-Robotics-Book/docs/modules/module-02-digital-twin-gazebo-unity/chapter-06-physics-tuning",children:"Chapter 6: Physics Parameter Tuning"})]}),"\n",(0,o.jsx)(i.hr,{}),"\n",(0,o.jsxs)(i.p,{children:[(0,o.jsx)(i.strong,{children:"Reading Time"}),": 25 minutes\n",(0,o.jsx)(i.strong,{children:"Hands-On Time"}),": 60 minutes"]})]})}function h(n={}){const{wrapper:i}={...(0,s.R)(),...n.components};return i?(0,o.jsx)(i,{...n,children:(0,o.jsx)(a,{...n})}):a(n)}},8453:(n,i,e)=>{e.d(i,{R:()=>r,x:()=>l});var t=e(6540);const o={},s=t.createContext(o);function r(n){const i=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function l(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:r(n.components),t.createElement(s.Provider,{value:i},n.children)}}}]);